<script>
    const url = "https://api.waifu.im/search/?included_tags=selfies";
    const fetchImage = await fetch(url).then((e) => e.json());

    const img = document.getElementById("anime") as HTMLImageElement;
    const cardImg = document.getElementById("anime");
    const progress = document.getElementById("progress");

    img!.src = fetchImage.images[0].url;

    cardImg!.addEventListener("click", async () => {
        progress!.classList.remove("hidden");
        progress!.classList.add("block");

        const fetchImage = await fetch(url).then((e) => e.json());
        img!.src = fetchImage.images[0].url;

        setTimeout(() => {
            progress!.classList.remove("block");
            progress!.classList.add("hidden");
        }, 1000);
    });
</script>

<style>
    .parent-card:hover .child-parent {
        @apply
        translate-y-[-50px]
        /* top: 0px;
        transition: all 300ms ease-in-out;
        opacity: 1; */
    }
</style>

<section
    class="hidden xl:block parent-card transition-all duration-300 ease-in-out"
>
    <!-- <h2
        class="child-parent absolute text-xl space-y-5 right-[-240px] top-12 opacity-0 transition-all duration-300 ease-in-out font-black"
    >
        Random Anime <br /> Photos
    </h2> -->
    <section class="top-0 max-w-[240px] right-[-260px] translate-y-14 absolute z-10">
        <section
            class="hover:rotate-12 hover:cursor-pointer relative z-10 transition-all duration-300 ease-in-out overflow-hidden px-6 pt-6 pb-20 rounded-md  bg-slate-100 shadow-md"
        >
            <img
                id="anime"
                alt="Random Anime Image"
                class="w-full rounded-md"
            />
            <progress
                id="progress"
                class="progress progress-primary hidden mt-4"></progress>
        </section>
        <!-- <h2 class="child-parent z-0  translate-y-[0px] transition-all duration-300 ease-out absolute font-bold text-lg">Waifu Card</h2> -->
    </section>
</section>
